(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{360:function(e,t,r){"use strict";r.r(t);var n=r(25),s=Object(n.a)({},(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[r("h1",{attrs:{id:"fetch-error"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#fetch-error"}},[e._v("#")]),e._v(" Fetch error")]),e._v(" "),r("h1",{attrs:{id:"fetch-error-fix"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#fetch-error-fix"}},[e._v("#")]),e._v(" fetch error fix")]),e._v(" "),r("p",[e._v("最近在用 fetch 的时候，发现一个问题，就是接口返回时 200 的，但是却看不到任何的返回信息，如下所示："),r("br"),e._v(" "),r("img",{attrs:{src:e.$withBase("/images/fetch_error.png"),alt:"foo"}})]),e._v(" "),r("p",[e._v("所有的信息都是空的，但是实际上是已经返回了数据，后来查了下是因为前端的这边写法有问题，是因为 promise 没有返回,当如下写法的时候，是看不到返回的\n代码：")]),e._v(" "),r("div",{staticClass:"language- extra-class"},[r("pre",{pre:!0,attrs:{class:"language-text"}},[r("code",[e._v('fetch("/infod", {\n        method: "POST", // *GET, POST, PUT, DELETE, etc.\n        headers: {\n          "Content-Type": "application/json; charset=UTF-8"\n          // \'Content-Type\': \'application/x-www-form-urlencoded\',\n        },\n        body: JSON.stringify({})\n      })\n        // .then(response => response.json())\n        .then(res => {\n          console.log("rss", res)\n          // res = res.text()\n        })\n        .catch(err => {\n\n        });\n')])])]),r("p",[e._v("只有在代码里边把 response 使用 json()或者其它方法的时候才能看到返回。")])])}),[],!1,null,null,null);t.default=s.exports}}]);